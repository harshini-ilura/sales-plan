{% extends "base.html" %}

{% block title %}Email Campaigns{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h3 mb-0">Email Campaigns</h1>
    <div>
        <a href="/leads/import" class="btn btn-info me-2">
            <i class="bi bi-upload"></i> Import Leads
        </a>
        <a href="/campaigns/create" class="btn btn-success">
            <i class="bi bi-plus-circle"></i> Create Campaign
        </a>
    </div>
</div>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Name</th>
            <th>Status</th>
            <th>Recipients</th>
            <th>Sent</th>
            <th>Pending</th>
            <th>Created</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for campaign in campaigns %}
        <tr>
            <td>{{ campaign.name }}</td>
            <td><span class="badge bg-secondary">{{ campaign.status }}</span></td>
            <td>{{ campaign.total_recipients or 0 }}</td>
            <td>{{ campaign.emails_sent or 0 }}</td>
            <td>{{ campaign.emails_pending or 0 }}</td>
            <td>{{ campaign.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
            <td>
                <a href="/campaigns/{{ campaign.id }}" class="btn btn-sm btn-primary">View</a>
            </td>
        </tr>
        {% else %}
        <tr>
            <td colspan="7" class="text-center text-muted">No campaigns found. <a href="/campaigns/create">Create one</a></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}

